<html lang="zh-CN"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>职场计算器工具集</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3b82f6', // 蓝色 - 嫡系计算器
            secondary: '#10b981', // 绿色 - 跳槽计算器
            tertiary: '#f97316', // 橙色 - 牛马指数计算器
            warning: '#f59e0b', // 黄色
            neutral: '#1f2937',
            danger: '#ef4444',
            accent: '#8b5cf6',
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .btn-primary {@apply bg-primary text-white font-medium py-3 px-6 rounded-lg shadow-md hover:bg-primary/90 transition-all duration-300;}
      .option-card {@apply border rounded-xl p-4 cursor-pointer transition-all duration-200 bg-white hover:shadow-md;}
      .option-card.selected {@apply border-2 border-primary bg-blue-50;}
      .dimension-card {@apply bg-white rounded-xl p-5 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 overflow-hidden relative;}
      .dimension-card.row-blue::before {@apply absolute top-0 left-0 w-1 h-full bg-primary transition-all duration-300; content: '';}
      .dimension-card.row-yellow::before {@apply absolute top-0 left-0 w-1 h-full bg-warning transition-all duration-300; content: '';}
      .dimension-card.row-green::before {@apply absolute top-0 left-0 w-1 h-full bg-secondary transition-all duration-300; content: '';}
      .dimension-card.row-orange::before {@apply absolute top-0 left-0 w-1 h-full bg-tertiary transition-all duration-300; content: '';}
      .social-btn {@apply w-full text-white text-sm font-medium py-2 px-4 rounded-lg shadow hover:opacity-90 transition;}
      .chart-container {@apply relative w-full overflow-hidden;}
      .qrcode-pair {@apply flex flex-col sm:flex-row justify-center items-center gap-6;}
      .qrcode-item {@apply text-center mx-auto;}
      .calculator-card {@apply bg-white rounded-2xl shadow-lg p-6 cursor-pointer transition-all duration-300 hover:shadow-xl transform hover:-translate-y-1 border border-gray-100;}
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 font-sans text-neutral min-h-screen">
  <!-- 首页选择页面 -->
  <div id="home-page" class="min-h-screen p-4 flex flex-col items-center justify-center">
    <div class="max-w-3xl w-full mx-auto text-center mb-3">
      <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-accent mb-2">职场计算器工具集</h1>
      <p class="text-gray-600 text-lg">趣味职场评估工具，助您了解职业现状</p>
      <p class="text-gray-400 text-lg">声明：本工具集所有内容仅供娱乐和参考之用，不构成任何形式的建议</p>
    </div>

<!-- 移除了 bg-white、rounded-xl、shadow-md 这些白色框相关样式 -->
    <div class="mt-1 max-w-md w-full mx-auto p-0">
      <a href="https://www.xiaohongshu.com/user/profile/660ea153000000000600c7ba" target="_blank" class="social-btn bg-red-500 block text-center">
        ❤️ 欢迎关注我的小红书，持续更新职场干货
      </a>
    </div>
    
    <div class="mt-6 max-w-5xl w-full mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-4">
      <!-- 嫡系计算器卡片 -->
      <div class="calculator-card" id="clique-calculator-card">
        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa fa-users text-2xl text-primary"></i>
        </div>
        <h2 class="text-3xl font-bold mb-3 text-gray-800">嫡系计算器</h2>
        <p class="text-gray-600 mb-6">通过9个维度测试，评估你在组织中的嫡系程度，了解自己在团队中的位置。</p>
        <button class="btn-primary w-full" id="go-clique-btn">开始测试</button>
      </div>
      
      <!-- 跳槽计算器卡片 -->
      <div class="calculator-card" id="job-hopping-calculator-card">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa fa-exchange text-2xl text-secondary"></i>
        </div>
        <h2 class="text-3xl font-bold mb-3 text-gray-800">跳槽计算器</h2>
        <p class="text-gray-600 mb-6">通过8个维度分析，评估当前是否是适合跳槽的时机，是否有跳槽的紧迫性。</p>
        <button class="btn-primary bg-secondary hover:bg-secondary/90 w-full" id="go-hopping-btn">开始评估</button>
      </div>
      



      <!-- 新增：更多计算器正在筹备中卡片 -->
      <div class="calculator-card opacity-80 cursor-default hover:translate-y-0 hover:shadow-lg" id="more-calculators-card">
        <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa fa-cog fa-spin text-2xl text-gray-500"></i>
        </div>
        <h2 class="text-2xl font-bold mb-3 text-gray-800">更多计算器</h2>
        <p class="text-gray-600 mb-6">正在筹备中，敬请期待更多实用的职场评估工具...</p>
        <div class="w-full py-3 px-6 rounded-lg bg-gray-100 text-gray-500 font-medium text-center cursor-not-allowed">
          即将上线
        </div>
      </div>
    </div>
  </div>

  <!-- 嫡系计算器页面 -->
  <div id="clique-page" class="min-h-screen p-4 hidden">
    <!-- 顶部社交链接 -->
    <div class="flex flex-col items-center space-y-2 p-4">
      <a href="https://www.xiaohongshu.com/user/profile/660ea153000000000600c7ba" target="_blank" class="social-btn bg-red-500">
        ❤️ 欢迎关注我的小红书，持续更新职场干货
      </a>
    </div>

    <div class="text-center max-w-md mx-auto mb-6">
      <h1 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-accent mb-4">嫡系计算器</h1>
      <p class="text-gray-600">通过9个维度测试，评估你在组织中的嫡系程度</p>
    </div>
    <div class="max-w-2xl mx-auto">
      <div class="mb-6">
        <div class="flex justify-between text-sm text-gray-500 mb-2">
          <span>已完成 <span id="clique-completed-count">0</span>/9 题</span>
          <span id="clique-progress-text">0%</span>
        </div>
        <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
          <div id="clique-progress-bar" class="h-full bg-primary transition-all duration-500 ease-out" style="width:0%"></div>
        </div>
      </div>
      <h2 class="text-xl font-bold mb-6 text-center">请回答以下所有问题</h2>
      <div id="clique-questions-container" class="space-y-4 mb-8"></div>
      <div class="flex justify-center">
        <button id="clique-submit-btn" class="btn-primary" disabled="">提交答案</button>
      </div>
    </div>
  </div>

  <!-- 嫡系计算器结果页面 -->
  <div id="clique-result-page" class="min-h-screen p-4 hidden flex flex-col items-center">
    <div class="max-w-4xl w-full space-y-6">
      <!-- 嫡系程度得分 -->
      <div class="bg-white rounded-2xl shadow-md p-5 text-center" id="clique-score-card">
        <h2 class="text-xl font-bold mb-3">嫡系程度得分</h2>
        <div id="clique-score-text" class="text-4xl font-extrabold text-primary mb-3"></div>
        <div id="clique-level-text" class="text-base font-medium text-gray-600 mb-3"></div>
        <div class="text-left text-xs text-gray-500 border-t pt-3 mt-3">
          <h3 class="font-semibold mb-2">嫡系等级判定说明</h3>
          <table class="w-full border-collapse text-xs">
            <tbody>
              <tr class="bg-gray-100">
                <th class="p-2 border">总分范围</th>
                <th class="p-2 border">嫡系等级</th>
                <th class="p-2 border">职场特征</th>
              </tr>
              <tr>
                <td class="p-2 border">&gt;60</td>
                <td class="p-2 border">心腹嫡系</td>
                <td class="p-2 border">参与重大决策，掌握核心资源</td>
              </tr>
              <tr>
                <td class="p-2 border">50-60</td>
                <td class="p-2 border">核心圈层</td>
                <td class="p-2 border">负责关键业务，资源优先配置</td>
              </tr>
              <tr>
                <td class="p-2 border">40-50</td>
                <td class="p-2 border">外围人员</td>
                <td class="p-2 border">常规工作关系，无特殊关照</td>
              </tr>
              <tr>
                <td class="p-2 border">&lt;40</td>
                <td class="p-2 border">风险人员</td>
                <td class="p-2 border">可能被边缘化或优化</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- 雷达图 -->
      <div class="bg-white rounded-2xl shadow-md p-5" id="clique-radar-card">
        <h3 class="text-lg font-bold mb-3 text-center">维度雷达图</h3>
        <div class="flex justify-center">
          <div class="chart-container ml-16" style="height: 300px; max-width: 400px; margin-left: 5">
            <canvas id="clique-radarChart"></canvas>
          </div>
        </div>
      </div>

      <!-- 维度详情 -->
      <div class="bg-white rounded-2xl shadow-md p-5" id="clique-dimensions-section">
        <h3 class="text-lg font-bold mb-4 text-center">维度详情</h3>
        <div id="clique-dimensions-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
      </div>

      <!-- 操作按钮 -->
      <div class="text-center flex flex-col sm:flex-row justify-center gap-3">
        <button id="clique-share-result-btn" class="btn-primary bg-blue-600 hover:bg-blue-700"><i class="fa fa-share-alt mr-2"></i>分享计算器</button>
        <button id="clique-download-screenshot" class="btn-primary bg-green-600 hover:bg-green-700"><i class="fa fa-download mr-2"></i>下载图片</button>
        <button id="clique-back-btn" class="btn-primary bg-gray-600 hover:bg-gray-700"><i class="fa fa-arrow-left mr-2"></i>返回</button>
        <button id="clique-home-btn" class="btn-primary bg-gray-600 hover:bg-gray-700"><i class="fa fa-home mr-2"></i>更多测试</button>
      </div>

      <!-- 底部两个并排二维码 -->
      <div class="max-w-3xl mx-auto text-center mt-6 p-6 bg-white rounded-2xl shadow-md" id="clique-qrcode-container">
        <div class="qrcode-pair">
          <!-- 第一个二维码 -->
          <div class="qrcode-item">
            <p class="text-gray-700 mb-3 text-sm font-medium">快来测一测你的嫡系指数吧</p>
            <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/code_assistant/6e9512295f82448fae31540d85a8169f~tplv-a9rns2rl98-image.image?rcl=202508291836032A4D8B776362F6AE97C5&amp;rk3s=8e244e95&amp;rrcfp=e75484ac&amp;x-expires=1757068563&amp;x-signature=x%2BGCBcR1hm%2FwFZ2jgnwVIc%2Ff1SI%3D" alt="测试二维码" class="w-40 h-40 rounded-lg shadow border p-2 bg-gray-50 flex items-center justify-center">
          </div>
          
          <!-- 第二个二维码 -->
          <div class="qrcode-item">
            <p class="text-gray-700 mb-3 text-sm font-medium">建了个群聊，每周掉落职场干货~</p>
            <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/code_assistant/e8285b38fc52436d8545482c50ae2582~tplv-a9rns2rl98-image.image?rcl=202508291749338CC74FBE6C47D71FC852&amp;rk3s=8e244e95&amp;rrcfp=e75484ac&amp;x-expires=1757065774&amp;x-signature=HE9zMCVXGgsI6vR%2B0BTTCROgCtI%3D" alt="微信群二维码" class="w-40 h-40 rounded-lg shadow border p-2 bg-white">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 跳槽计算器页面 -->
  <div id="hopping-page" class="min-h-screen p-4 hidden">
    <!-- 顶部社交链接 -->
    <div class="flex flex-col items-center space-y-2 p-4">
      <a href="https://www.xiaohongshu.com/user/profile/660ea153000000000600c7ba" target="_blank" class="social-btn bg-red-500">
        ❤️ 欢迎关注我的小红书，持续更新职场干货
      </a>
    </div>

    <div class="text-center max-w-md mx-auto mb-6">
      <h1 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent mb-4">跳槽计算器</h1>
      <p class="text-gray-600">通过8个维度分析，评估你当前是否适合跳槽</p>
    </div>
    <div class="max-w-2xl mx-auto">
      <div class="mb-6">
        <div class="flex justify-between text-sm text-gray-500 mb-2">
          <span>已完成 <span id="hopping-completed-count">0</span>/8 题</span>
          <span id="hopping-progress-text">0%</span>
        </div>
        <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
          <div id="hopping-progress-bar" class="h-full bg-secondary transition-all duration-500 ease-out" style="width:0%"></div>
        </div>
      </div>
      <h2 class="text-xl font-bold mb-6 text-center">请回答以下所有问题</h2>
      <div id="hopping-questions-container" class="space-y-4 mb-8"></div>
      <div class="flex justify-center">
        <button id="hopping-submit-btn" class="btn-primary bg-secondary hover:bg-secondary/90" disabled="">提交答案</button>
      </div>
    </div>
  </div>

  <!-- 跳槽计算器结果页面 -->
  <div id="hopping-result-page" class="min-h-screen p-4 hidden flex flex-col items-center">
    <div class="max-w-4xl w-full space-y-6">
      <!-- 跳槽紧迫度得分 -->
      <div class="bg-white rounded-2xl shadow-md p-5 text-center" id="hopping-score-card">
        <h2 class="text-xl font-bold mb-3">跳槽紧迫度得分</h2>
        <div id="hopping-score-text" class="text-4xl font-extrabold text-secondary mb-3"></div>
        <div id="hopping-level-text" class="text-base font-medium text-gray-600 mb-3"></div>
        <div class="text-left text-xs text-gray-500 border-t pt-3 mt-3">
          <h3 class="font-semibold mb-2">跳槽建议说明</h3>
          <table class="w-full border-collapse text-xs">
            <tbody>
              <tr class="bg-gray-100">
                <th class="p-2 border">总分范围</th>
                <th class="p-2 border">跳槽建议</th>
                <th class="p-2 border">行动指南</th>
              </tr>
              <tr>
                <td class="p-2 border">&gt;70</td>
                <td class="p-2 border">强烈建议跳槽</td>
                <td class="p-2 border">当前环境严重制约发展，积极寻找新机会</td>
              </tr>
              <tr>
                <td class="p-2 border">50-70</td>
                <td class="p-2 border">可以考虑跳槽</td>
                <td class="p-2 border">现有发展存在瓶颈，可选择性寻找机会</td>
              </tr>
              <tr>
                <td class="p-2 border">30-50</td>
                <td class="p-2 border">谨慎考虑跳槽</td>
                <td class="p-2 border">现有环境有不足，但仍有发展空间</td>
              </tr>
              <tr>
                <td class="p-2 border">&lt;30</td>
                <td class="p-2 border">不建议跳槽</td>
                <td class="p-2 border">当前环境良好，应专注内部发展</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- 雷达图 -->
      <div class="bg-white rounded-2xl shadow-md p-5" id="hopping-radar-card">
        <h3 class="text-lg font-bold mb-3 text-center">维度雷达图</h3>
        <div class="flex justify-center">
          <div class="chart-container ml-16" style="height: 300px; max-width: 400px; margin-left: 5">
            <canvas id="hopping-radarChart"></canvas>
          </div>
        </div>
      </div>

      <!-- 各维度跳槽紧迫度 -->
      <div class="bg-white rounded-2xl shadow-md p-5" id="hopping-dimensions-section">
        <h3 class="text-lg font-bold mb-4 text-center">维度详情</h3>
        <div id="hopping-dimensions-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
      </div>

      <!-- 操作按钮 -->
      <div class="text-center flex flex-col sm:flex-row justify-center gap-3">
        <button id="hopping-share-result-btn" class="btn-primary bg-blue-600 hover:bg-blue-700"><i class="fa fa-share-alt mr-2"></i>分享计算器</button>
        <button id="hopping-download-screenshot" class="btn-primary bg-green-600 hover:bg-green-700"><i class="fa fa-download mr-2"></i>下载图片</button>
        <button id="hopping-back-btn" class="btn-primary bg-gray-600 hover:bg-gray-700"><i class="fa fa-arrow-left mr-2"></i>返回</button>
        <button id="hopping-home-btn" class="btn-primary bg-gray-600 hover:bg-gray-700"><i class="fa fa-home mr-2"></i>更多测试</button>
      </div>

      <!-- 底部两个并排二维码 -->
      <div class="max-w-3xl mx-auto text-center mt-6 p-6 bg-white rounded-2xl shadow-md" id="hopping-qrcode-container">
        <div class="qrcode-pair">
          <!-- 第一个二维码 -->
          <div class="qrcode-item">
            <p class="text-gray-700 mb-3 text-sm font-medium">快来测一测你的跳槽指数吧</p>
            <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/code_assistant/6e9512295f82448fae31540d85a8169f~tplv-a9rns2rl98-image.image?rcl=202508291836032A4D8B776362F6AE97C5&amp;rk3s=8e244e95&amp;rrcfp=e75484ac&amp;x-expires=1757068563&amp;x-signature=x%2BGCBcR1hm%2FwFZ2jgnwVIc%2Ff1SI%3D" alt="测试二维码" class="w-40 h-40 rounded-lg shadow border p-2 bg-gray-50 flex items-center justify-center">
          </div>
          
          <!-- 第二个二维码 -->
          <div class="qrcode-item">
            <p class="text-gray-700 mb-3 text-sm font-medium">建了个群聊，每周掉落职场干货~</p>
            <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/code_assistant/e8285b38fc52436d8545482c50ae2582~tplv-a9rns2rl98-image.image?rcl=202508291749338CC74FBE6C47D71FC852&amp;rk3s=8e244e95&amp;rrcfp=e75484ac&amp;x-expires=1757065774&amp;x-signature=HE9zMCVXGgsI6vR%2B0BTTCROgCtI%3D" alt="微信群二维码" class="w-40 h-40 rounded-lg shadow border p-2 bg-white">
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 全局变量
    let cliqueRadarChartInstance = null;
    let hoppingRadarChartInstance = null;
    let cliqueAnswers = {};
    let hoppingAnswers = {};

    // 嫡系计算器问题
    const cliqueQuestions = [
      { 
        text: "组织关系", 
        dimension: "组织关系", 
        options: [
          {text:"跨三级汇报", score:20, analysis: "层级距离远，信息传递衰减。", suggestion: "把握每次跨级展示机会。"},
          {text:"跨两级汇报", score:40, analysis: "存在层级隔阂，影响力有限。", suggestion: "争取更多向上展示的机会。"},
          {text:"直接汇报", score:60, analysis: "常规汇报关系，沟通顺畅。", suggestion: "提升汇报质量，建立信任。"},
          {text:"直接汇报+同部门≥3年", score:80, analysis: "长期合作，有一定信任基础。", suggestion: "深化业务绑定，成为可靠助手。"},
          {text:"领导前嫡系团队", score:100, analysis: "深度绑定，高度信任。", suggestion: "维护长期信任，成为左膀右臂。"}
        ]
      },
      { 
        text: "信任等级", 
        dimension: "信任等级", 
        options: [
          {text:"仅工作沟通", score:20, analysis: "纯工作关系，无额外信任。", suggestion: "增加工作外互动，建立好感。"},
          {text:"参与常规会议", score:40, analysis: "基础信任，纳入常规信息圈。", suggestion: "会议中积极贡献，展现价值。"},
          {text:"参加领导小范围会议", score:60, analysis: "中度信任，进入核心信息圈。", suggestion: "保守机密，提升价值贡献。"},
          {text:"处理领导私人事务", score:80, analysis: "高度信任，超越工作关系。", suggestion: "把握分寸，公私分明。"},
          {text:"掌握领导核心资源", score:100, analysis: "绝对信任，成为核心心腹。", suggestion: "忠诚可靠，保守核心秘密。"}
        ]
      },
      { 
        text: "项目权重", 
        dimension: "项目权重", 
        options: [
          {text:"支持性工作", score:20, analysis: "参与度低，影响力有限。", suggestion: "主动承担更多责任，展现能力。"},
          {text:"独立模块负责人", score:40, analysis: "有一定职责，但非核心。", suggestion: "做出亮点，争取更大范围负责。"},
          {text:"核心项目骨干", score:60, analysis: "承担重要工作，受重视。", suggestion: "打造核心竞争力，成为不可或缺的角色。"},
          {text:"战略项目负责人", score:80, analysis: "负责关键项目，有战略价值。", suggestion: "确保项目成功，提升战略影响力。"},
          {text:"领导亲自指派项目", score:100, analysis: "深度信任，承担特殊使命。", suggestion: "超额完成，巩固信任基础。"}
        ]
      },
      { 
        text: "晋升轨迹", 
        dimension: "晋升轨迹", 
        options: [
          {text:"无晋升", score:20, analysis: "发展停滞，需警惕。", suggestion: "考虑与领导1on1沟通，或寻找外部机会。"},
          {text:"正常晋升", score:40, analysis: "按部就班，符合预期。", suggestion: "提升差异化优势，争取加速发展。"},
          {text:"破格晋升", score:60, analysis: "表现突出，获得认可。", suggestion: "保持势头，证明晋升合理性。"},
          {text:"跟随领导调岗晋升", score:80, analysis: "受领导器重，同步发展。", suggestion: "适应新环境，快速创造价值。"},
          {text:"领导特批职级", score:100, analysis: "高度认可，特殊对待。", suggestion: "匹配职级要求，不负所托。"}
        ]
      },
      { 
        text: "绩效情况", 
        dimension: "绩效情况", 
        options: [
          {text:"长期低绩效/背锅侠（C/D）", score:20, analysis: "处于边缘或风险。", suggestion: "寻找短期可提升的突破口，或寻找外部机会。"},
          {text:"近期绩效下滑（S/A→B/C）", score:40, analysis: "状态不稳定。", suggestion: "分析原因并沟通、调整。"},
          {text:"稳定中等绩效（B）", score:60, analysis: "表现稳定，中规中矩。", suggestion: "寻找突破点，提升绩效评级。"},
          {text:"长期高绩效（A）", score:80, analysis: "持续优秀，受认可。", suggestion: "保持优势，争取更大责任。"},
          {text:"绩效考评名列前茅（S）", score:100, analysis: "核心骨干，标杆人物。", suggestion: "发挥榜样作用，扩大影响力。"}
        ]
      },
      { 
        text: "RSU/股权激励授予", 
        dimension: "RSU/股权激励授予", 
        options: [
          {text:"从未获得过任何激励", score:20, analysis: "不在激励范围内。", suggestion: "争取绩效表现突破。"},
          {text:"仅入职授予，后续无新增", score:40, analysis: "缺乏持续性认可。", suggestion: "强化亮点，争取新激励。"},
          {text:"授予价值低于同级", score:60, analysis: "认可度有限。", suggestion: "对比同级，提出合理诉求。"},
          {text:"授予价值高于同级", score:80, analysis: "价值较高。", suggestion: "继续提升，保持核心地位。"},
          {text:"授予周期稳定且价值可观", score:100, analysis: "处于激励核心。", suggestion: "稳定发挥，避免波动。"}
        ]
      },
      { 
        text: "资源倾斜", 
        dimension: "资源倾斜", 
        options: [
          {text:"资源受限", score:25, analysis: "获取资源较少。", suggestion: "尝试用有限资源做出成果。"},
          {text:"标准配置", score:50, analysis: "处于正常水平。", suggestion: "逐渐申请更多资源。"},
          {text:"优先获取资源", score:75, analysis: "具备较高优先级。", suggestion: "确保成果回报值得。"},
          {text:"领导特批资源", score:100, analysis: "获得特殊照顾。", suggestion: "谨慎使用，避免口碑风险。"}
        ]
      },
      { 
        text: "信息权限", 
        dimension: "信息权限", 
        options: [
          {text:"信息滞后", score:25, analysis: "处于信息末端。", suggestion: "主动拓展信息渠道。"},
          {text:"同步知悉", score:50, analysis: "获取信息及时。", suggestion: "保证理解和执行。"},
          {text:"提前获知未公开信息", score:75, analysis: "提前获知，说明被信任。", suggestion: "注意信息保密。"},
          {text:"参与决策讨论", score:100, analysis: "直接参与核心决策。", suggestion: "发挥战略思考力。"}
        ]
      },
      { 
        text: "危机处理", 
        dimension: "危机处理", 
        options: [
          {text:"被牺牲", score:25, analysis: "处于弱势，风险高。", suggestion: "增强不可替代性。"},
          {text:"中立状态", score:50, analysis: "保持中性，安全但边缘。", suggestion: "寻找提升存在感的机会。"},
          {text:"领导公开维护", score:75, analysis: "获得一定保护。", suggestion: "维持与领导良好关系。"},
          {text:"领导私下保护", score:100, analysis: "深度信任，关键时刻被优先照顾。", suggestion: "继续巩固，保持低调。"}
        ]
      }
    ];

    // 跳槽计算器问题
    const hoppingQuestions = [
      { 
        text: "薪资水平", 
        dimension: "薪资水平", 
        options: [
          {text:"远低于市场水平(30%以上)", score:90, analysis: "薪资严重缺乏竞争力。", suggestion: "市场机会可能带来显著提升。"},
          {text:"低于市场水平(10-30%)", score:70, analysis: "薪资有一定差距。", suggestion: "可寻找匹配市场水平的机会。"},
          {text:"与市场水平持平", score:40, analysis: "薪资处于合理范围。", suggestion: "跳槽薪资提升空间有限。"},
          {text:"略高于市场水平(10-30%)", score:20, analysis: "薪资有一定优势。", suggestion: "除非有更大发展，否则不建议跳槽。"},
          {text:"远高于市场水平(30%以上)", score:5, analysis: "薪资具有明显优势。", suggestion: "跳槽需谨慎评估薪资风险。"}
        ]
      },
      { 
        text: "晋升空间", 
        dimension: "晋升空间", 
        options: [
          {text:"完全没有晋升通道", score:90, analysis: "职业发展陷入停滞。", suggestion: "外部机会可能是必要选择。"},
          {text:"晋升通道狭窄，遥遥无期", score:70, analysis: "发展前景不明朗。", suggestion: "可积极关注外部机会。"},
          {text:"有晋升可能，但周期较长", score:50, analysis: "发展速度偏慢。", suggestion: "可同时考虑内部沟通与外部机会。"},
          {text:"有明确晋升路径，1-2年内可实现", score:30, analysis: "发展路径清晰。", suggestion: "优先考虑内部发展。"},
          {text:"快速晋升通道，受到重点培养", score:10, analysis: "发展前景良好。", suggestion: "应专注内部机会，谨慎跳槽。"}
        ]
      },
      { 
        text: "工作压力", 
        dimension: "工作压力", 
        options: [
          {text:"极度不满，每天抵触上班", score:90, analysis: "职业状态严重不健康。", suggestion: "尽快寻找新机会改善状态。"},
          {text:"较不满意，经常感到压抑", score:70, analysis: "工作状态不佳。", suggestion: "可考虑寻找更合适的工作环境。"},
          {text:"一般，谈不上满意或不满意", score:40, analysis: "工作缺乏热情。", suggestion: "评估是否有改善空间。"},
          {text:"比较满意，偶尔有抱怨", score:20, analysis: "整体状态良好。", suggestion: "关注如何提升满意度。"},
          {text:"非常满意，享受工作过程", score:5, analysis: "工作状态理想。", suggestion: "珍惜现有工作环境。"}
        ]
      },
      { 
        text: "能力成长", 
        dimension: "能力成长", 
        options: [
          {text:"几乎没有学习机会，技能停滞", score:80, analysis: "职业能力发展受阻。", suggestion: "寻找能提供成长空间的环境。"},
          {text:"学习缓慢，进步不明显", score:60, analysis: "成长速度低于预期。", suggestion: "考虑更具挑战性的机会。"},
          {text:"有一定提升，但速度一般", score:40, analysis: "成长速度适中。", suggestion: "可尝试内部争取更多机会。"},
          {text:"持续学习，技能提升较快", score:20, analysis: "处于良好的成长状态。", suggestion: "保持节奏，稳步发展。"},
          {text:"快速成长，接触前沿技术/业务", score:10, analysis: "成长环境理想。", suggestion: "继续深耕现有领域。"}
        ]
      },
      { 
        text: "公司前景", 
        dimension: "公司前景", 
        options: [
          {text:"严重下滑，可能面临裁员/倒闭", score:90, analysis: "职业环境风险极高。", suggestion: "应紧急寻找稳定的新机会。"},
          {text:"发展停滞，市场竞争力下降", score:70, analysis: "公司前景不容乐观。", suggestion: "积极关注行业内其他机会。"},
          {text:"发展平稳，无明显增长", score:40, analysis: "公司处于稳定期。", suggestion: "综合评估个人发展再决定。"},
          {text:"稳步增长，市场地位稳固", score:20, analysis: "公司发展健康。", suggestion: "可优先考虑内部发展。"},
          {text:"快速发展，行业领先", score:10, analysis: "公司前景广阔。", suggestion: "与公司共同成长是优选。"}
        ]
      },
      { 
        text: "上下级关系", 
        dimension: "上下级关系", 
        options: [
          {text:"严重不和，存在明显冲突", score:80, analysis: "职场关系紧张。", suggestion: "换环境可能是必要的。"},
          {text:"沟通不畅，难以合作", score:60, analysis: "工作配合存在障碍。", suggestion: "可考虑内部转岗或外部机会。"},
          {text:"关系一般，仅工作交流", score:30, analysis: "职业关系平淡。", suggestion: "可尝试改善关系或保持现状。"},
          {text:"关系良好，沟通顺畅", score:15, analysis: "合作氛围良好。", suggestion: "维持良好合作关系。"},
          {text:"关系融洽，相互信任", score:5, analysis: "上下级关系理想。", suggestion: "珍惜良好的合作环境。"}
        ]
      },
      { 
        text: "工作生活平衡", 
        dimension: "工作生活平衡", 
        options: [
          {text:"长期严重失衡，频繁熬夜加班", score:70, analysis: "健康面临风险。", suggestion: "寻找更平衡的工作环境。"},
          {text:"经常加班，个人时间被严重挤压", score:50, analysis: "生活质量受影响。", suggestion: "考虑调整工作节奏或换工作。"},
          {text:"偶尔加班，基本能保证休息", score:30, analysis: "平衡状况一般。", suggestion: "尝试优化工作效率。"},
          {text:"很少加班，工作生活较平衡", score:15, analysis: "平衡状况良好。", suggestion: "保持现有状态。"},
          {text:"从不加班，完全掌控个人时间", score:5, analysis: "工作生活平衡极佳。", suggestion: "这种工作环境值得珍惜。"}
        ]
      },
      { 
        text: "行业发展", 
        dimension: "行业发展", 
        options: [
          {text:"行业衰退，面临被淘汰风险", score:90, analysis: "职业赛道风险高。", suggestion: "尽快考虑行业转型。"},
          {text:"行业饱和，增长乏力", score:70, analysis: "发展空间受限。", suggestion: "可考虑转向相关新兴领域。"},
          {text:"行业稳定，增长平缓", score:40, analysis: "发展机会适中。", suggestion: "可在本行业深耕或适度拓展。"},
          {text:"行业增长，发展前景良好", score:20, analysis: "处于上升行业。", suggestion: "在本行业持续发展更有利。"},
          {text:"行业爆发期，高速增长", score:10, analysis: "处于风口行业。", suggestion: "抓住行业红利期发展。"}
        ]
      }
    ];

    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', function() {
      // 初始化事件监听
      initEventListeners();
    });

    // 初始化所有事件监听
    function initEventListeners() {
      // 首页按钮
      document.getElementById('go-clique-btn').addEventListener('click', function() {
        showPage('clique-page');
        renderCliqueQuestions();
      });
      
      document.getElementById('go-hopping-btn').addEventListener('click', function() {
        showPage('hopping-page');
        renderHoppingQuestions();
      });
      
      // 嫡系计算器页面按钮
      document.getElementById('clique-submit-btn').addEventListener('click', calculateCliqueResult);
      document.getElementById('clique-back-btn').addEventListener('click', function() {
        showPage('clique-page');
      });
      document.getElementById('clique-home-btn').addEventListener('click', function() {
        showPage('home-page');
      });
      document.getElementById('clique-share-result-btn').addEventListener('click', function() {
        alert('分享功能：可将结果截图分享给朋友');
      });
      document.getElementById('clique-download-screenshot').addEventListener('click', function() {
        downloadScreenshot('clique-result-page');
      });
      
      // 跳槽计算器页面按钮
      document.getElementById('hopping-submit-btn').addEventListener('click', calculateHoppingResult);
      document.getElementById('hopping-back-btn').addEventListener('click', function() {
        showPage('hopping-page');
      });
      document.getElementById('hopping-home-btn').addEventListener('click', function() {
        showPage('home-page');
      });
      document.getElementById('hopping-share-result-btn').addEventListener('click', function() {
        alert('分享功能：可将结果截图分享给朋友');
      });
      document.getElementById('hopping-download-screenshot').addEventListener('click', function() {
        downloadScreenshot('hopping-result-page');
      });
    }

    // 显示指定页面，隐藏其他页面
    function showPage(pageId) {
      // 隐藏所有页面
      document.getElementById('home-page').classList.add('hidden');
      document.getElementById('clique-page').classList.add('hidden');
      document.getElementById('clique-result-page').classList.add('hidden');
      document.getElementById('hopping-page').classList.add('hidden');
      document.getElementById('hopping-result-page').classList.add('hidden');
      
      // 显示目标页面
      document.getElementById(pageId).classList.remove('hidden');
    }
    
      // 强制滚动到页面顶部
      window.scrollTo(0, 0);
    }
    
    // 渲染嫡系计算器问题
    function renderCliqueQuestions() {
      const container = document.getElementById('clique-questions-container');
      container.innerHTML = '';
      cliqueAnswers = {};
      
      cliqueQuestions.forEach((question, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'bg-white p-5 rounded-xl shadow-sm border border-gray-100 mb-6';
        questionDiv.innerHTML = `<h3 class="text-lg font-semibold mb-4">${index + 1}. ${question.text}</h3>`;
        
        const optionsDiv = document.createElement('div');
        optionsDiv.className = 'space-y-2';
        
        question.options.forEach((option, optIndex) => {
          const optionCard = document.createElement('div');
          optionCard.className = 'option-card';
          optionCard.dataset.questionIndex = index;
          optionCard.dataset.optionIndex = optIndex;
          optionCard.innerHTML = `<p>${option.text}</p>`;
          
          optionCard.addEventListener('click', function() {
            // 移除同题其他选项的选中状态
            document.querySelectorAll(`.option-card[data-question-index="${index}"]`)
              .forEach(card => card.classList.remove('selected'));
            
            // 添加当前选项的选中状态
            this.classList.add('selected');
            
            // 保存答案
            cliqueAnswers[index] = {
              score: option.score,
              text: option.text,
              analysis: option.analysis,
              suggestion: option.suggestion,
              dimension: question.dimension
            };
            
            // 更新进度
            updateCliqueProgress();
          });
          
          optionsDiv.appendChild(optionCard);
        });
        
        questionDiv.appendChild(optionsDiv);
        container.appendChild(questionDiv);
      });
      
      // 初始化进度
      updateCliqueProgress();
    }

    // 渲染跳槽计算器问题
    function renderHoppingQuestions() {
      const container = document.getElementById('hopping-questions-container');
      container.innerHTML = '';
      hoppingAnswers = {};
      
      hoppingQuestions.forEach((question, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'bg-white p-5 rounded-xl shadow-sm border border-gray-100 mb-6';
        questionDiv.innerHTML = `<h3 class="text-lg font-semibold mb-4">${index + 1}. ${question.text}</h3>`;
        
        const optionsDiv = document.createElement('div');
        optionsDiv.className = 'space-y-2';
        
        question.options.forEach((option, optIndex) => {
          const optionCard = document.createElement('div');
          optionCard.className = 'option-card';
          optionCard.dataset.questionIndex = index;
          optionCard.dataset.optionIndex = optIndex;
          optionCard.innerHTML = `<p>${option.text}</p>`;
          
          optionCard.addEventListener('click', function() {
            // 移除同题其他选项的选中状态
            document.querySelectorAll(`.option-card[data-question-index="${index}"]`)
              .forEach(card => card.classList.remove('selected'));
            
            // 添加当前选项的选中状态
            this.classList.add('selected');
            
            // 保存答案
            hoppingAnswers[index] = {
              score: option.score,
              text: option.text,
              analysis: option.analysis,
              suggestion: option.suggestion,
              dimension: question.dimension
            };
            
            // 更新进度
            updateHoppingProgress();
          });
          
          optionsDiv.appendChild(optionCard);
        });
        
        questionDiv.appendChild(optionsDiv);
        container.appendChild(questionDiv);
      });
      
      // 初始化进度
      updateHoppingProgress();
    }

    // 更新嫡系计算器进度
    function updateCliqueProgress() {
      const completed = Object.keys(cliqueAnswers).length;
      const total = cliqueQuestions.length;
      const percentage = Math.round((completed / total) * 100);
      
      document.getElementById('clique-completed-count').textContent = completed;
      document.getElementById('clique-progress-text').textContent = `${percentage}%`;
      document.getElementById('clique-progress-bar').style.width = `${percentage}%`;
      
      // 启用/禁用提交按钮
      document.getElementById('clique-submit-btn').disabled = completed < total;
    }

    // 更新跳槽计算器进度
    function updateHoppingProgress() {
      const completed = Object.keys(hoppingAnswers).length;
      const total = hoppingQuestions.length;
      const percentage = Math.round((completed / total) * 100);
      
      document.getElementById('hopping-completed-count').textContent = completed;
      document.getElementById('hopping-progress-text').textContent = `${percentage}%`;
      document.getElementById('hopping-progress-bar').style.width = `${percentage}%`;
      
      // 启用/禁用提交按钮
      document.getElementById('hopping-submit-btn').disabled = completed < total;
    }

    // 计算嫡系计算器结果
    function calculateCliqueResult() {
      // 计算总分
      let totalScore = 0;
      Object.values(cliqueAnswers).forEach(answer => {
        totalScore += answer.score;
      });
      
      // 计算平均分（转换为0-100分制）
      const avgScore = Math.round(totalScore / cliqueQuestions.length);
      
      // 确定等级
      let levelText = '';
      if (avgScore > 60) {
        levelText = '心腹嫡系 - 参与重大决策，掌握核心资源';
      } else if (avgScore >= 50) {
        levelText = '核心圈层 - 负责关键业务，资源优先配置';
      } else if (avgScore >= 40) {
        levelText = '外围人员 - 常规工作关系，无特殊关照';
      } else {
        levelText = '风险人员 - 可能被边缘化或优化';
      }
      
      // 更新结果页面
      document.getElementById('clique-score-text').textContent = avgScore;
      document.getElementById('clique-level-text').textContent = levelText;
      
      // 渲染维度详情
      renderCliqueDimensions();
      
      // 渲染雷达图
      renderCliqueRadarChart();
      
      // 显示结果页面
      showPage('clique-result-page');
    }

    // 渲染嫡系计算器维度详情
    function renderCliqueDimensions() {
      const container = document.getElementById('clique-dimensions-container');
      container.innerHTML = '';
      
      Object.values(cliqueAnswers).forEach(answer => {
        // 根据分数确定颜色
        let colorClass = 'row-blue';
        if (answer.score < 40) {
          colorClass = 'row-orange';
        } else if (answer.score < 60) {
          colorClass = 'row-yellow';
        } else if (answer.score < 80) {
          colorClass = 'row-green';
        }
        
        const dimensionCard = document.createElement('div');
        dimensionCard.className = `dimension-card ${colorClass}`;
        dimensionCard.innerHTML = `
          <h4 class="font-semibold mb-2">${answer.dimension}</h4>
          <p class="text-sm text-gray-600 mb-2">得分: ${answer.score}</p>
          <p class="text-xs text-gray-500 mb-2">${answer.analysis}</p>
          <p class="text-xs text-primary">建议: ${answer.suggestion}</p>
        `;
        
        container.appendChild(dimensionCard);
      });
    }

    // 渲染嫡系计算器雷达图
    function renderCliqueRadarChart() {
      const ctx = document.getElementById('clique-radarChart').getContext('2d');
      
      // 销毁已存在的图表
      if (cliqueRadarChartInstance) {
        cliqueRadarChartInstance.destroy();
      }
      
      // 准备数据
      const labels = Object.values(cliqueAnswers).map(answer => answer.dimension);
      const data = Object.values(cliqueAnswers).map(answer => answer.score);
      
      // 创建雷达图
      cliqueRadarChartInstance = new Chart(ctx, {
        type: 'radar',
        data: {
          labels: labels,
          datasets: [{
            label: '嫡系程度',
            data: data,
            backgroundColor: 'rgba(59, 130, 246, 0.2)',
            borderColor: 'rgba(59, 130, 246, 1)',
            pointBackgroundColor: 'rgba(59, 130, 246, 1)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgba(59, 130, 246, 1)'
          }]
        },
        options: {
          scales: {
            r: {
              beginAtZero: true,
              max: 100,
              ticks: {
                stepSize: 20
              }
            }
          }
        }
      });
    }

    // 计算跳槽计算器结果
    function calculateHoppingResult() {
      // 计算总分
      let totalScore = 0;
      Object.values(hoppingAnswers).forEach(answer => {
        totalScore += answer.score;
      });
      
      // 计算平均分（转换为0-100分制）
      const avgScore = Math.round(totalScore / hoppingQuestions.length);
      
      // 确定等级
      let levelText = '';
      if (avgScore > 70) {
        levelText = '强烈建议跳槽 - 当前环境严重制约发展，积极寻找新机会';
      } else if (avgScore >= 50) {
        levelText = '可以考虑跳槽 - 现有发展存在瓶颈，可选择性寻找机会';
      } else if (avgScore >= 30) {
        levelText = '谨慎考虑跳槽 - 现有环境有不足，但仍有发展空间';
      } else {
        levelText = '不建议跳槽 - 当前环境良好，应专注内部发展';
      }
      
      // 更新结果页面
      document.getElementById('hopping-score-text').textContent = avgScore;
      document.getElementById('hopping-level-text').textContent = levelText;
      
      // 渲染维度详情
      renderHoppingDimensions();
      
      // 渲染雷达图
      renderHoppingRadarChart();
      
      // 显示结果页面
      showPage('hopping-result-page');
    }

    // 渲染跳槽计算器维度详情
    function renderHoppingDimensions() {
      const container = document.getElementById('hopping-dimensions-container');
      container.innerHTML = '';
      
      Object.values(hoppingAnswers).forEach(answer => {
        // 根据分数确定颜色（分数越高表示越应该跳槽）
        let colorClass = 'row-green';
        if (answer.score > 70) {
          colorClass = 'row-orange';
        } else if (answer.score > 50) {
          colorClass = 'row-yellow';
        } else if (answer.score > 30) {
          colorClass = 'row-blue';
        }
        
        const dimensionCard = document.createElement('div');
        dimensionCard.className = `dimension-card ${colorClass}`;
        dimensionCard.innerHTML = `
          <h4 class="font-semibold mb-2">${answer.dimension}</h4>
          <p class="text-sm text-gray-600 mb-2">跳槽指数: ${answer.score}</p>
          <p class="text-xs text-gray-500 mb-2">${answer.analysis}</p>
          <p class="text-xs text-secondary">建议: ${answer.suggestion}</p>
        `;
        
        container.appendChild(dimensionCard);
      });
    }

    // 渲染跳槽计算器雷达图
    function renderHoppingRadarChart() {
      const ctx = document.getElementById('hopping-radarChart').getContext('2d');
      
      // 销毁已存在的图表
      if (hoppingRadarChartInstance) {
        hoppingRadarChartInstance.destroy();
      }
      
      // 准备数据
      const labels = Object.values(hoppingAnswers).map(answer => answer.dimension);
      const data = Object.values(hoppingAnswers).map(answer => answer.score);
      
      // 创建雷达图
      hoppingRadarChartInstance = new Chart(ctx, {
        type: 'radar',
        data: {
          labels: labels,
          datasets: [{
            label: '跳槽紧迫度',
            data: data,
            backgroundColor: 'rgba(16, 185, 129, 0.2)',
            borderColor: 'rgba(16, 185, 129, 1)',
            pointBackgroundColor: 'rgba(16, 185, 129, 1)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgba(16, 185, 129, 1)'
          }]
        },
        options: {
          scales: {
            r: {
              beginAtZero: true,
              max: 100,
              ticks: {
                stepSize: 20
              }
            }
          }
        }
      });
    }

    // 下载页面截图
    function downloadScreenshot(elementId) {
      const element = document.getElementById(elementId);
      
      html2canvas(element).then(canvas => {
        // 创建下载链接
        const link = document.createElement('a');
        link.download = '职场计算器结果.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      }).catch(error => {
        console.error('截图失败:', error);
        alert('截图失败，请重试');
      });
    }
  </script>


</body></html>
